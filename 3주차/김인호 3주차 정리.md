# Closures

í´ë¡œì €ëŠ” ì „ë‹¬ë˜ê±°ë‚˜ ì½”ë“œ ë‚´ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ë…ë¦½ì ì¸ ì½”ë“œ ë¸”ëŸ­ì´ë‹¤.
í´ë¡œì €ëŠ” ìì‹ ì´ ì •ì˜ëœ ë§¥ë½ì˜ ìƒìˆ˜ì™€ ë³€ìˆ˜ë¥¼ ìº¡ì³í•˜ê³  ì°¸ì¡°ë¥¼ ì €ì¥í•  ìˆ˜ ìˆë‹¤. (closing overìœ¼ë¡œë„ ë¶€ë¥¸ë‹¤.)

### í´ë¡œì € í‘œí˜„ì‹

ê°„ê²°í•˜ê²Œ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ì—¬ëŸ¬ ë°©ë²•ì´ ìˆë‹¤.

- ë§¤ê°œë³€ìˆ˜ì™€ ë¦¬í„´ ê°’ì— ëŒ€í•œ íƒ€ì… ì¶”ë¡ 
- ì•”ì‹œì  ë¦¬í„´ (ë‹¨ì¼ í‘œí˜„ì‹ì—ì„œ)
- ë§¤ê°œë³€ìˆ˜ ì¶•ì•½ í‘œí˜„
- í›„í–‰ í´ë¡œì € ë¬¸ë²• (

```swift
[10, 40, 2, 52, 53, 21].sorted(by: { (s1: Int, s2: Int) -> Bool in
    return s1 > s2
})

//ë§¤ê°œë³€ìˆ˜ & ë¦¬í„´ íƒ€ì… ì¶”ë¡ 
[10, 40, 2, 52, 53, 21].sorted(by: { s1, s2 in return s1 > s2 })

//ì•”ì‹œì  ë¦¬í„´
[10, 40, 2, 52, 53, 21].sorted(by: { s1, s2 in s1 > s2 })

//ë§¤ê°œë³€ìˆ˜ ì¶•ì•½
[10, 40, 2, 52, 53, 21].sorted(by: { $0 > $1 })

//ì—°ì‚°ì ë©”ì„œë“œ (Operator Methods)
[10, 40, 2, 52, 53, 21].sorted(by: >)

//í›„í–‰ í´ë¡œì €
[10, 40, 2, 52, 53, 21].sorted() { $0 > $1 } 
/*
í´ë¡œì €ê°€ ìœ ì¼í•œ ë§¤ê°œë³€ìˆ˜ë¼ë©´ ê´„í˜¸() ìƒëµë„ê°€ëŠ¥
í•¨ìˆ˜ê°€ ì—¬ëŸ¬ í´ë¡œì €ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ìœ¼ë©´, ì²«ë²ˆì¬ í´ë¡œì €ë§Œ argumentLabel ìƒëµ ê°€ëŠ¥
*/
```

### í´ë¡œì €ì˜ ê°’ ìº¡ì³

í´ë¡œì €ëŠ” ìì‹ ì´ ì •ì˜ëœ ë§¥ë½ì˜ ìƒìˆ˜ì™€ ë³€ìˆ˜ë¥¼ ìº¡ì³í•  ìˆ˜ ìˆê³  í•´ë‹¹ ìƒìˆ˜, ë³€ìˆ˜ì˜ ê¸°ì¡´ ë²”ìœ„ì—ì„œ ë²—ì–´ë‚˜ë”ë¼ë„ ìì‹ ì˜ ë°”ë”” ë‚´ì—ì„œ ì°¸ì¡°í•˜ê±°ë‚˜ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.

**ğŸ’¡Â í´ë¡œì €ëŠ” ê°’ì„ ìº¡ì³í•  ë•Œ, ê°’/ì°¸ì¡° íƒ€ì…ì— ìƒê´€ì—†ì´ ìº¡ì³í•˜ëŠ” ê°’ë“¤ì„ ì°¸ì¡°í•œë‹¤.**

```swift
func doSomething() {
    var number = 0
    
    print("number check 1: \(number)")
    
    let closure = {
        print("number check 3: \(number)")
    }

    number = 20
    print("number check 2: \(number)")
    closure()
}

doSomething()
/* ì¶œë ¥
number check 1: 0
number check 2: 20
number check 3: 20
*/
```

### Escaping Closure

í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬ëœ í´ë¡œì €ê°€ í•¨ìˆ˜ì˜ ë¦¬í„´ ì´í›„ ì‹œì ì— í˜¸ì¶œë˜ë©´ **í´ë¡œì €ê°€ escape** í–ˆë‹¤ê³  ë§í•œë‹¤.

```swift
var completionHandlers: [() -> Void] = []
func someFunctionWithEscapingClosure(completionHandler: @escaping () -> Void) {
    completionHandlers.append(completionHandler)
}
```

- íƒˆì¶œ í´ë¡œì €ê°€ `self` ë¥¼ ì°¸ì¡°í•  ê²½ìš°ì—, í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ê³  ìˆë‹¤ë©´ ìœ ì˜í•´ì•¼ í•œë‹¤. (ê°•í•œ ìˆœí™˜ ì°¸ì¡°)
ì¼ë°˜ì ìœ¼ë¡œ í´ë¡œì €ëŠ” ìì‹ ì˜ ë°”ë”” ë‚´ì—ì„œ ê°’ì„ ì‚¬ìš©í•˜ì—¬ ì•”ì‹œì ìœ¼ë¡œ ìº¡ì³í•˜ëŠ”ë°, ìœ„ ê²½ìš°ì—ëŠ” ëª…ì‹œì ì´ì–´ì•¼ í•œë‹¤. `self` ë¥¼ ìº¡ì³í•œë‹¤ë©´ ëª…ì‹œí•˜ê±°ë‚˜ ìº¡ì³ ë¦¬ìŠ¤íŠ¸ì— í¬í•¨í•´ì•¼ í•œë‹¤.

# Enumarations

> ì—°ê´€ëœ ê°’ë“¤ì˜ ì§‘í•©
> 

### ì—´ê±°í˜• ì¼€ì´ìŠ¤ì˜ ë°˜ë³µ

ì—´ê±°í˜•ì— `CaseIterable` í”„ë¡œí† ì½œì„ ì¤€ìˆ˜í•˜ë©´ `allCases` í”„ë¡œí¼í‹°ë¥¼ ì‚¬ìš©í•´ì„œ ì—´ê±°í˜•ì˜ ëª¨ë“  ì¼€ì´ìŠ¤ë¥¼ ë‹´ì€ ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```swift
enum Beverage: CaseIterable {
    case coffee, tea, juice
}

let numberOfChoices = Beverage.allCases.count // 3

for beverage in Beverage.allCases {
    print(beverage)
}
```

### Associated Values (ì—°ê´€ê°’)

ì—´ê±°í˜•ì˜ ì¼€ì´ìŠ¤ì— ê°’ì„ ì €ì¥í•˜ë©´ ìœ ìš©í•  ë•Œê°€ ìˆëŠ”ë°, ì—°ê´€ê°’ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤. ì—°ê´€ê°’ì€ ì—´ê±°í˜•ì˜ ì¼€ì´ìŠ¤ê°€ ìƒì„±ë ë•Œë§ˆë‹¤ ë‹¤ë¥´ê²Œ ì ìš© ê°€ëŠ¥í•˜ë‹¤.

```swift
enum Barcode {
    case upc(Int, Int, Int, Int)
    case qrCode(String)
}

var productBarcode = Barcode.upc(8, 85909, 51226, 3)

switch productBarcode {
case .upc(let numberSystem, let manufacturer, let product, let check):
    print("UPC: \(numberSystem), \(manufacturer), \(product), \(check).")
case let .qrCode(productCode):
    print("QR code: \(productCode).")
}
```

- ì—°ê´€ê°’ì´ ìˆëŠ” ì—´ê±°í˜•ì— switchë¬¸ì„ ì‚¬ìš©í•˜ë©´ ì—°ê´€ê°’ì´ í•¨ê»˜ ì¶”ì¶œëœë‹¤.
ì´ ê°’ë“¤ì€ `let, var` ë¥¼ ì‚¬ìš©í•´ì„œ í•´ë‹¹ ì¼€ì´ìŠ¤ ë‚´ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , ëª¨ë“  ì—°ê´€ê°’ì— ëŒ€í•´ ìƒìˆ˜/ë³€ìˆ˜ë¡œ ì¶”ì¶œí•œë‹¤ë©´ ì¼€ì´ìŠ¤ ì´ë¦„ ì „ì— í•œë²ˆ ëª…ì‹œí•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### Raw Values (ì›ì‹œê°’)

ì›ì‹œê°’ì„ ì‚¬ìš©í•˜ë©´ ê° ì¼€ì´ìŠ¤ì— ëŒ€í•´ ë™ì¼í•œ ê°’ì„ ì œê³µí•  ìˆ˜ ìˆë‹¤. (String, Character, Int, floating-point)

```swift
enum Planet: Int {
    case mercury = 1, venus, earth, mars, jupiter, saturn, uranus, neptune
}

enum CompassPoint: String {
    case north, south, east, west
}
```

- ì •ìˆ˜ì™€ Stringì— ëŒ€í•´ì„œëŠ” ì•”ì‹œì ìœ¼ë¡œ ê°’ì„ ì œê³µí•  ìˆ˜ë„ ìˆë‹¤.
ì •ìˆ˜ëŠ” ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ 0ë¶€í„° ì‹œì‘í•˜ê³ , ë‹¤ìŒ ì¼€ì´ìŠ¤ëŠ” ì´ì „ ì¼€ì´ìŠ¤ + 1 ì˜ ê°’ì„ ê°–ëŠ”ë‹¤.
Stringì€ ê¸°ë³¸ ì¼€ì´ìŠ¤ì˜ ì´ë¦„ê³¼ ë™ì¼í•œ ê°’ì„ ê°€ì§„ë‹¤.

### RawValueë¥¼ ì´ìš©í•œ ì´ˆê¸°í™”

ì—´ê±°í˜•ì˜ rawValueë¥¼ ì‚¬ìš©í•˜ë©´ ì´ë¥¼ ì´ìš©í•´ì„œ ì—´ê±°í˜• ì¼€ì´ìŠ¤ë¥¼ ì´ˆê¸°í™” í•  ìˆ˜ ìˆë‹¤.

```swift
let possiblePlanet = Planet(rawValue: 7)
//Planet? íƒ€ì…, Planet.uranus
```

- ì „ë‹¬í•œ rawValueì— í•´ë‹¹í•˜ëŠ” ì¼€ì´ìŠ¤ê°€ ì—†ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— í•­ìƒ ì˜µì…”ë„ ê°’ìœ¼ë¡œ ì´ˆê¸°í™” í•œë‹¤.

### ì¬ê·€ ì—´ê±°í˜•

ì—´ê±°í˜•ì˜ í•œê°œ ì´ìƒì˜ ì¼€ì´ìŠ¤ì—ì„œ ì—°ê´€ê°’ìœ¼ë¡œ í•´ë‹¹ ì—´ê±°í˜•ì„ ê°€ì§ˆ ê²½ìš°ê°€ ìˆë‹¤. ì´ë•Œ `indirect` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì¬ê·€ ì—´ê±°í˜•ì„ì„ ëª…ì‹œí•œë‹¤.

```swift
enum ArithmeticExpression {
    case number(Int)
    indirect case addition(ArithmeticExpression, ArithmeticExpression)
    indirect case multiplication(ArithmeticExpression, ArithmeticExpression)
}

indirect enum ArithmeticExpression {
    ...
    case multiplication(ArithmeticExpression, ArithmeticExpression)
}
```

```swift
let five = ArithmeticExpression.number(5)
let four = ArithmeticExpression.number(4)
let sum = ArithmeticExpression.addition(five, four)
let product = ArithmeticExpression.multiplication(sum, ArithmeticExpression.number(2))

func evaluate(_ expression: ArithmeticExpression) -> Int {
    switch expression {
    case let .number(value):
        return value
    case let .addition(left, right):
        return evaluate(left) + evaluate(right)
    case let .multiplication(left, right):
        return evaluate(left) * evaluate(right)
    }
}
```

- ì¬ê·€ ì—´ê±°í˜• & ì¬ê·€ í•¨ìˆ˜ ì‚¬ìš©

# Structures and Classes

### ê³µí†µì 

- í”„ë¡œí¼í‹°, ë©”ì„œë“œë¥¼ ì •ì˜í•˜ì—¬ ê°’ì„ ì €ì¥í•˜ê³  ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.
- ìƒì„±ìë¥¼ ì‚¬ìš©í•´ì„œ ì´ˆê¸°ê°’ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.
- ê¸°ì¡´ì˜ ì •ì˜ì— í™•ì¥í•˜ì—¬ ì¶”ê°€ ê¸°ëŠ¥ì„ ì œê³µí•  ìˆ˜ ìˆë‹¤.
- í”„ë¡œí† ì½œì„ ì±„íƒí•  ìˆ˜ ìˆë‹¤.

### ì°¨ì´ì (í´ë˜ìŠ¤ì˜ ì¶”ê°€ê¸°ëŠ¥)

- ìƒì†
- íƒ€ì… ìºìŠ¤íŒ…
- deinitializer
- ARC

### êµ¬ì¡°ì²´ì™€ ì—´ê±°í˜•ì€ ê°’íƒ€ì…

ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë‹¤ë¥¸ ìƒìˆ˜, ë³€ìˆ˜ì— ì €ì¥í• ë•Œ ê·¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³µì‚¬í•˜ì—¬ ì €ì¥í•œë‹¤. (ê°œë³„ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒê¸°ëŠ” ê²ƒ)
ê·¸ëŸ°ë°, ì»¬ë ‰ì…˜ íƒ€ì…(String í¬í•¨)ì— ëŒ€í•´ì„œëŠ” ìµœì í™”ë¥¼ ìœ„í•´ COWë¥¼ ì ìš©í•œë‹¤. 
(ë°”ë¡œ ë³µì‚¬ë³¸ì„ ë§Œë“œëŠ” ê²ƒì´ ì•„ë‹Œ, ì°¸ì¡°í•˜ê³  ìˆë‹¤ê°€ ë³€ê²½ì´ ì¼ì–´ë‚ ë•Œ ë³µì‚¬í•˜ëŠ” ê²ƒ! copy-on-write)

### í´ë˜ìŠ¤ëŠ” ì°¸ì¡°íƒ€ì…

í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë‹¤ë¥¸ ìƒìˆ˜, ë³€ìˆ˜ì— í• ë‹¹í•˜ë©´ ì¸ìŠ¤í„´ìŠ¤ì˜ ì£¼ì†Œê°’ì„ í• ë‹¹í•˜ê²Œ ëœë‹¤. ê·¸ë˜ì„œ ë‘ê°œì˜ ë³€ìˆ˜ê°€ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì°¸ì¡°í•˜ê³  ìˆê²Œ ëœë‹¤.
ê°™ì€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°”ë¼ë³´ê³  ìˆê¸° ë•Œë¬¸ì— í•œ ë³€ìˆ˜ì—ì„œì˜ ë³€ê²½ì´ ë™ì¼í•˜ê²Œ ì ìš©ëœë‹¤.

### ì°¸ê³ 
[Documentation-closures](https://docs.swift.org/swift-book/documentation/the-swift-programming-language/closures/#Capturing-Values)

[Swift) í´ë¡œì €(Closure) ì •ë³µí•˜ê¸°(3/3) - í´ë¡œì €ì™€ ARC](https://babbab2.tistory.com/83)

[Closures Capture Semantics: Catch them all!](https://alisoftware.github.io/swift/closures/2016/07/25/closure-capture-1/)

[Documentation-enumerations](https://docs.swift.org/swift-book/documentation/the-swift-programming-language/enumerations/#Recursive-Enumerations)

[Documentation-classesandstructures](https://docs.swift.org/swift-book/documentation/the-swift-programming-language/classesandstructures/#app-top)
